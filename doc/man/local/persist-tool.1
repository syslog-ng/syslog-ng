.TH persist\-tool 1 "18 December 2025" 4.10.2 "The persist\-tool manual page"
.SH NAME
.PP
persist\-tool \- {{ site.product.short_name }} configuration file
.SH SYNOPSIS
.PP
persist\-tool [command] [options]
.SH DESCRIPTION
.PP
This manual page is only an abstract.
.PP
The persist\-tool application is a utility that can be used to dump the content of the persist file, and manipulate its content.
.PP
[](/assets/images/caution.png)
\fBCAUTION:\fP Persist\-tool is a special tool for syslog\-ng experts. Do use the tool unless you know exactly what you are doing. Misconfiguring it will result in irrecoverable damage to the persist file, without any warning.
.PP
Limitations:
* The persist\-state functions can be used only with \fB\fCSLP4\fR or newer persist files. Older persist files are not supported.
* Wildcard characters are not supported in file and directory names.
.SH THE DUMP COMMAND
.PP
.RS
.nf
dump [options] [persist_file]
.fi
.RE
.PP
Use the \fB\fCdump\fR command to print the current content of the persist file in JSON format to the console.
.PP
The \fB\fCdump\fR command has the following options:
\fB\fC\-\-help\fR or \fB\fC\-?\fR
    Display a brief help message. For example:
.PP
.RS
.nf
```config
    persist\-tool dump /Users/hofi/Develop/Balabit/syslog-ng/build/install/var/syslog\-ng persist
``` 
A valid output is the following:

```config
run_id = { "value": "00 00 00 00 0C 00 00 00 " }
host_id = { "value": "00 00 00 00 5F 49 2F 01 " }
```
.fi
.RE
.SH THE ADD COMMAND
.PP
.RS
.nf
add [options] [input_file]
.fi
.RE
.PP
Use the \fB\fCadd\fR command to add or modify a specified state\-entry in the persist file. The state\-entry should be in the same format as the \fB\fCdump\fR command displays it. If the given state\-entry already exists, it will be updated. Otherwise, a new value will be added. If the given persist state is invalid, it will be skipped.
.PP
To use the \fB\fCadd\fR command: use \fB\fCpersist\-tool dump\fR to print the content of the current persist file, and redirect it to a file. Edit the content of this file. Use \fB\fCpersist\-tool\fR add with this file to modify the persist.
.PP
The \fB\fCadd\fR command has the following options:
\fB\fC\-\-help\fR or \fB\fC\-?\fR
    Display a brief help message.
.PP
\fB\fC\-\-output\-dir=<directory>\fR or \fB\fC\-o\fR
    Required parameter. The directory where the persist file is located at. The name of the persist file stored in this directory must be syslog\-ng.persist.
.PP
\fB\fC\-\-persist\-name=<filename>\fR or \fB\fC\-p\fR
    Optional parameter. The name of the persist file to generate. Default value: syslog\-ng.persist. For example:
.PP
.RS
.nf
``` shell
/Users/hofi/Develop/Balabit/syslog-ng/build/install/bin/persist\-tool add dump_persist \-o .
```

A valid output is the following:

```config
log_reader_curpos(Application)      OK
affile_sd_curpos(/var/aaa.txt)        OK
```

An invalid output is the following:

```config
log_reader_curpos(Application)      OK
wrong
FAILED (error: Invalid entry syntax)
affile_sd_curpos(/var/aaa.txt)        OK
```
.fi
.RE
.SH FILES
.PP
/Users/hofi/Develop/Balabit/syslog-ng/build/install/bin/persist\-tool
.SH SEE ALSO
.PP
\fB\fCsyslog\-ng.conf\fR(5)
.PP
\fBNOTE:\fP
If you experience any problems or need help with syslog\-ng OSE, see the \fIsyslog\-ng OSE Administration Guide\fP[1], or visit the \fIsyslog\-ng OSE mailing list\fP[2].
For news and notifications about syslog\-ng OSE, visit the \fIsyslog\-ng OSE blogs\fP[3].
.SH AUTHOR
.PP
This manual page was generated from the \fIsyslog\-ng OSE Administration Guide\fP[1], which was written by several contributors to whom we'd like to extend our sincere thanks.
.SH COPYRIGHT
.SH NOTES
.PP
[1] \fB\fCsyslog\-ng OSE Administration Guide\fR
    \[la]https://syslog-ng.github.io/admin-guide/README\[ra]
.PP
[2] \fB\fCsyslog\-ng OSE mailing list\fR
    \[la]https://lists.balabit.hu/mailman/listinfo/syslog-ng\[ra]
.PP
[3] \fB\fCsyslog\-ng OSE blogs\fR
    \[la]https://syslog-ng.com/blog/\[ra]
