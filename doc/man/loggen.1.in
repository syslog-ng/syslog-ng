.TH "loggen"1 "" "" loggen
.PP
.SS "Name"
.PP
loggen â€” Generate syslog messages at a specified rate
.SS "Synopsis"
.PP
loggen [options]
.PP
target [port]
.PP
.SS "Description"
.SS "Note"
The loggen application is distributed with the syslog-ng system logging application, and is usually part of the syslog-ng package.
.PP
The loggen application is a tool to test and stress-test your syslog server and the connection to the server. It can send syslog messages to the server at a specified rate using a number of connection types and protocols, including TCP, UDP, and unix domain sockets. The messages can be generated automatically (repeating the PADDstring over and over), or read from a file or the standard input.
.PP
When loggen finishes sending the messages, it displays the following statistics:
.RS
.IP * 2
average rate: The average rate of the sent messages in messages/second.
.IP *
count: The total number of messages sent.
.IP *
time: The time required to send the messages in seconds.
.IP *
average message size: The average size of the sent messages in bytes.
.IP *
bandwidth: The average bandwidth used for sending the messages in kilobytes/second.
.RE
.SS "Options"
.RS
.IP * 2
--active-connections <number-of-connections>
.IP
Number of connections loggen will use to send messages to the destination. This option is usable only when using TCP or TLS connections to the destination. Default value: 1
.IP
The loggen utility waits until every connection is established before starting to send messages. See also the --idle-connections option.
.IP *
--csv or -C
.IP
Send the statistics of the sent messages to stdout as CSV. This can be used for plotting the message rate.
.IP *
--dgram or -D
.IP
Use datagram socket (UDP or unix-dgram) to send the messages to the target. Requires the --inet option as well.
.IP *
dont-parse or -d
.IP
Do not parse the lines read from the input files, send them as received.
.IP *
--help or -h
.IP
Display a brief help message.
.IP *
--idle-connection <number-of-connections>
.IP
Number of idle connections loggen will establish to the destination. Note that loggen will not send any messages on idle connections, but the connection is kept open using keep-alive messages. This option is usable only when using TCP or TLS connections to the destination. See also the --active-connections option. Default value: 0
.IP *
--inet or -i
.IP
Use the TCP (by default) or UDP (when used together with the --dgram option) protocol to send the messages to the target.
.IP *
--interval <seconds> or -I <seconds>
.IP
The number of seconds loggen will run. Default value: 10
.SS "Note"
When --interval and --number are used together, loggen will send messages until the period set in --interval expires or the amount of messages set in --number is reached, whichever happens first.
.IP *
--ipv6 or -6
.IP
Specify the destination using its IPv6 address. Note that the destination must have a real IPv6 address.
.IP *
--loop-reading or -l
.IP
Read the file specified in --read-file option in loop: loggen will start reading from the beginning of the file when it reaches the end of the file.
.IP *
--number <number-of-messages> or -n <number-of-messages>
.IP
Number of messages to generate.
.SS "Note"
When --interval and --number are used together, loggen will send messages until the period set in --interval expires or the amount of messages set in --number is reached, whichever happens first.
.IP *
--no-framing or -F
.IP
Do not use the framing of the IETF-syslog protocol style, even if the --syslog-proto option is set.
.IP *
--quiet or -Q
.IP
Display statistics only when loggen is finished. If not set, the statistics are displayed every second.
.IP *
--permanent or -T
.IP
Keep sending logs indefinitely, without time limit.
.IP *
--rate <message/second> or -r <message/second>
.IP
The number of messages generated per second for every active connection. Default value: 1000
.IP
If you want to change the message rate while loggen is running, send SIGUSR1 to double the message rate, or SIGUSR2 to halve it:
.IP
kill -USR1 <loggen-pid>``kill -USR2 <loggen-pid>
.IP *
--read-file <filename> or -R <filename>
.IP
Read the messages from a file and send them to the target. See also the --skip-tokens option.
.IP
Specify - as the input file to read messages from the standard input (stdio). Note that when reading messages from the standard input, loggen can only use a single thread. The -R -parameters must be placed at end of command, like: loggen 127.0.0.1 1061 --read-file -
.IP *
--sdata <data-to-send> or -p <data-to-send>
.IP
Send the argument of the --sdata option as the SDATA part of IETF-syslog (RFC5424 formatted) messages. Use it together with the --syslog-proto option. For example: --sdata "[test name=\\"value\\"]
.IP *
--size <message-size> or -s <message-size>
.IP
The size of a syslog message in bytes. Default value: 256. Minimum value: 127 bytes, maximum value: 8192 bytes.
.IP *
--skip-tokens <number>
.IP
Skip the specified number of space-separated tokens (words) at the beginning of every line. For example, if the messages in the file look like foo bar message, --skip-tokens 2 skips the foo bar part of the line, and sends only the message part. Works only when used together with the --read-file parameter. Default value: 0
.IP *
--stream or -S
.IP
Use a stream socket (TCP or unix-stream) to send the messages to the target.
.IP *
--syslog-proto or -P
.IP
Use the new IETF-syslog message format as specified in RFC5424. By default, loggen uses the legacy BSD-syslog message format (as described in RFC3164). See also the --no-framing option.
.IP *
--unix </path/to/socket> or -x </path/to/socket>
.IP
Use a UNIX domain socket to send the messages to the target.
.IP *
--use-ssl or -U
.IP
Use an SSL-encrypted channel to send the messages to the target. Note that it is not possible to check the certificate of the target, or to perform mutual authentication.
.IP *
--version or -V
.IP
Display version number of syslog-ng.
.RE
.SS "Examples"
.PP
The following command generates 100 messages per second for ten minutes, and sends them to port 2010 of the localhost via TCP. Each message is 300 bytes long.
.PP
.RS
.DS L
.nf
loggen --size 300 --rate 100 --interval 600 127.0.0.1 2010
.fi
.DE
.RE
.PP
The following command is similar to the one above, but uses the UDP protocol.
.PP
.RS
.DS L
.nf
loggen --inet --dgram --size 300 --rate 100 --interval 600 127.0.0.1 2010
.fi
.DE
.RE
.PP
Send a single message on TCP6 to the ::1 IPv6 address, port 1061:
.PP
.RS
.DS L
.nf
loggen --ipv6 --number 1 ::1 1061
.fi
.DE
.RE
.PP
Send a single message on UDP6 to the ::1 IPv6 address, port 1061:
.PP
.RS
.DS L
.nf
loggen --ipv6 --dgram --number 1 ::1 1061
.fi
.DE
.RE
.PP
Send a single message using a unix domain-socket:
.PP
.RS
.DS L
.nf
loggen --unix --stream --number 1 </path/to/socket>
.fi
.DE
.RE
.PP
Read messages from the standard input (stdio) and send them to the localhost:
.PP
.RS
.DS L
.nf
loggen 127.0.0.1 1061 --read-file -
.fi
.DE
.RE
.SS "Files"
.PP
/opt/syslog-ng/bin/loggen
.SS "See also"
.PP
\fBsyslog-ng.conf.5\fP (\fIhttps://axoflow.com/docs/axosyslog-core/app-man-syslog-ng/syslog-ng.conf.5/\fP)
.SS "Getting help"
.RS
.IP * 2
The up-to-date documentation of syslog-ng is available on the \fBAxoSyslog documentation site\fP (\fIhttps://axoflow.com/docs/axosyslog-core/\fP).
.IP *
For news and notifications about syslog-ng, visit the \fBAxoflow blog\fP (\fIhttps://axoflow.com/blog/\fP).
.IP *
If you want to contact the developers directly to help with problems or report issues, contact us on \fBDiscord\fP (\fIhttps://discord.gg/583Z4wjem2\fP) or \fBGitHub\fP (\fIhttps://github.com/syslog-ng/syslog-ng/issues/\fP).
.RE
.PP
This manual page is maintained by \fBAxoflow\fP (\fIhttps://axoflow.com/\fP)
Last modified November 24, 2023: \fBMinor manpage fix (2f0a144)\fP (\fIhttps://github.com/axoflow/axosyslog-core-docs/commit/2f0a144ec391a3182da3af2f2cc136042d5608e9\fP)